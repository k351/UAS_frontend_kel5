<!DOCTYPE html>
<html lang="en" ng-app="revifeApp">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revife.</title>
    <link rel="stylesheet" href="style/wishlist.css">
    <link rel="stylesheet" href="style/header.css">
    <link rel="stylesheet" href="style/home.css">
    <link rel="stylesheet" href="style/categories.css">
    <link rel="stylesheet" href="style/carousel.css">
    <link rel="stylesheet" href="style/footer.css">
    <link rel="stylesheet" href="style/cart.css">
    <link rel="stylesheet" href="style/checkout.css">
    <link rel="stylesheet" href="style/style.css">
    <link rel="stylesheet" href="style/products.css">
    <link rel="stylesheet" href="style/product.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>
    <script src="scripts/jquery-3.7.1.min.js"></script>
</head>

<body ng-controller="WishlistController">

    <ng-include src="'partials/header.html'"></ng-include>

    <section class="wishlist-main">
        <div class="filter-container">
            <h2>Filter</h2>
        
            <div class="filter-section" ng-class="{'active': isFilterActive('urutkan')}">
                <div class="filter-header" ng-click="toggleFilter('urutkan')">
                    <h3>Urutkan</h3>
                    <i class="fa"
                        ng-class="{'fa-angle-down': !isFilterActive('urutkan'), 'fa-angle-up': isFilterActive('urutkan')}"></i>
                </div>
                <div class="filter-options" ng-style="{'height': isFilterActive('urutkan') ? 'auto' : '0px'}">
                    <label><input type="radio" name="sort" value="rating"> Rating</label>
                    <label><input type="radio" name="sort" value="price"> Harga <i id="priceArrow"
                            class="fa fa-arrow-up"></i></label>
                    <label><input type="radio" name="sort" value="name-asc"> Nama (A-Z)</label>
                    <label><input type="radio" name="sort" value="name-desc"> Nama (Z-A)</label>
                </div>
            </div>
        
            <div class="filter-section" ng-class="{'active': isFilterActive('penawaran')}">
                <div class="filter-header" ng-click="toggleFilter('penawaran')">
                    <h3>Penawaran</h3>
                    <i class="fa"
                        ng-class="{'fa-angle-down': !isFilterActive('penawaran'), 'fa-angle-up': isFilterActive('penawaran')}"></i>
                </div>
                <div class="filter-options" ng-style="{'height': isFilterActive('penawaran') ? 'auto' : '0px'}">
                    <label><input type="checkbox"> Cashback</label>
                    <label><input type="checkbox"> Diskon</label>
                    <label><input type="checkbox"> COD</label>
                    <label><input type="checkbox"> Harga Grosir</label>
                </div>
            </div>
        
            <div class="filter-section" ng-class="{'active': isFilterActive('stok')}">
                <div class="filter-header" ng-click="toggleFilter('stok')">
                    <h3>Stok</h3>
                    <i class="fa"
                        ng-class="{'fa-angle-down': !isFilterActive('stok'), 'fa-angle-up': isFilterActive('stok')}"></i>
                </div>
                <div class="filter-options" ng-style="{'height': isFilterActive('stok') ? 'auto' : '0px'}">
                    <label><input type="checkbox" name="stok" value="preorder"> Preorder</label>
                    <label><input type="checkbox" name="stok" value="available"> Tersedia</label>
                    <label><input type="checkbox" name="stok" value="unavailable"> Tidak Tersedia</label>
                </div>
            </div>
        
            <div class="filter-section" ng-class="{'active': isFilterActive('kategori')}">
                <div class="filter-header" ng-click="toggleFilter('kategori')">
                    <h3>Kategori</h3>
                    <i class="fa"
                        ng-class="{'fa-angle-down': !isFilterActive('kategori'), 'fa-angle-up': isFilterActive('kategori')}"></i>
                </div>
                <div class="filter-options" ng-style="{'height': isFilterActive('kategori') ? 'auto' : '0px'}">
                    <ul>
                        <li><a href="">Audio, Kamera & Elektronik</a></li>
                        <li><a href="">Buku</a></li>
                        <li><a href="">Dapur</a></li>
                        <li><a href="">Elektronik</a></li>
                        <li><a href="">Fashion Anak & Bayi</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="wishlist-container">
            <div ng-repeat="product in wishlistItems" class="product-card fade-in">
                <div class="image-container">
                    <img ng-src="../{{product.image}}" alt="product.name">
                </div>
                <div class="product-info">
                    <h3 class="product-title">{{ product.name }}</h3>
                    <h4 class="product-price">{{ product.price }}</h4>
                    <p class="product-sold">Terjual {{ product.sold }}</p>
                    <div class="rating">
                        <i class="fa fa-star" ng-repeat="star in [].constructor(product.stars) track by $index"></i> {{
                        product.stars }}.0
                    </div>
                </div>
                <button class="wishlist-btn" ng-click="toggleWishlist(product)">
                    <i ng-class="wishlistState[product._id] ? 'fa-solid' : 'fa-regular'"
                        ng-style="{'color': wishlistState[product._id] ? 'var(--secondary-color)' : 'gray'}" class="fa-heart"></i>
                </button>
                <button class="add-cart" ng-click="addToCart(product)">+ Keranjang</button>
            </div>
        </div>

        <!-- <div ng-if="emptyWishlistMessage" style="color: var(--tertiary-color);">
            {{ emptyWishlistMessage }}
        </div> -->
           

    </section>

    <ng-include src="'partials/footer.html'"></ng-include>

    <script src="app.js"></script>
    <script src="../controllers/wishlist.controller.js"></script>
    <script src="../controllers/header.controller.js"></script>

    <!-- <script src="../scripts/addToCart.js"></script>
    <script src="../scripts/searchQuery.js"></script>
    <script src="../scripts/categoriesQuery.js"></script>
    <script type="module" src="../scripts/addToWishlist.js"></script>
    <script type="module" src="../scripts/wishlist.js"></script> -->

</body>

</html>

